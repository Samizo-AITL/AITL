# 🤖 YorisoiHybridRobot 対話シナリオ & 状態遷移ログ

## 🎯 シナリオ概要

本ドキュメントは、FSM×LLM構造を持つ「寄り添い型ハイブリッドロボット」が、
高齢者との対話を通じて感情・行動を判断し、状態遷移・応答を行うPoCの振る舞い例を示す。

---

## 🧩 登場モジュール

- FSMEngine：状態管理（IDLE, CARE_MODE, TALK_MODE, REST_MODEなど）
- LLMInterface：入力に基づく状態提案・自然言語応答生成
- ActionExecutor：音声などの実行出力
- SensorManager：感情・声・表情などの入力統合

---

## 🧪 対話ログ（サンプル）

| 時刻        | 音声入力         | 感情    | FSM遷移           | LLM出力内容                                      |
|-------------|------------------|---------|-------------------|--------------------------------------------------|
| 18:45:00    | 今日は寂しいです | sad     | IDLE → CARE_MODE  | こんにちは。何かお話しましょうか？              |
| 18:46:00    | 話してほしい     | neutral | CARE → TALK_MODE  | 最近どんなことがありましたか？                  |
| 18:47:00    | 買い物に行ったよ | happy   | TALK → TALK       | 楽しかったですか？                              |
| 18:48:00    | でも疲れた       | tired   | TALK → REST_MODE  | 少し休みましょう。ゆっくり深呼吸してみてください。 |
| 18:49:00    | ありがとう       | grateful| REST → CARE_MODE  | こちらこそ、いつでも話しかけてくださいね。      |

---

## 🔁 状態遷移図（概念）
IDLE → CARE_MODE → TALK_MODE → REST_MODE → CARE_MODE
↑                                        ↓
└────────────── LLM提案で循環 ───────────────┘

---

## 💡 解説ポイント

- 感情と発話に基づいて LLM が提案 → FSM が状態遷移
- TTSを用いた音声応答は「安心感」「共感」「会話継続」の要素を含む
- LLMによる「文脈をくんだ応答」で、FSMの状態遷移が補完・拡張される

---

## ✅ このPoCが示す意義

- 感情センシング + 状態遷移 + AI推論 の統合が「寄り添い」を実現
- 人間らしい応答をFSMが制約しつつ、LLMが柔軟性を補う構成
- モジュール分離・ログ記録により実装・再現・評価が容易
