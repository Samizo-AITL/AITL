# 第2章：制御理論の基礎

---

## 2.1 PID制御の概要と限界

### PID制御とは？

- **P（比例）**：現在の誤差に比例した出力を行う  
- **I（積分）**：過去の誤差の積分により定常偏差を除去  
- **D（微分）**：将来の誤差変化を予測し応答性を向上  

### 利点と用途

- 単純な構造で理解・設計がしやすい  
- SISO（単入力単出力）系に適する  
- 産業制御の多くで広く使用されている

### 限界

- 多変数制御（MIMO）では個別ループ設計となり、調整が困難  
- 外乱やモデル不確かさに対する耐性が低い  
- 過剰なゲイン設定により振動や不安定化が生じやすい

---

## 2.2 多変数制御の必要性

- ロボットやドローンなどは多入力・多出力（MIMO）制御が基本  
- センサとアクチュエータ間に**相互干渉**が存在する  
- 複雑なシステムでは、全体を一括して設計する必要がある  
- PID制御では、相互干渉を制御ループ間でうまく扱えない

---

## 2.3 H∞制御の基本概念

### 目的

- 外乱や不確実性に対する**ロバスト制御**を実現  
- システム全体の性能を**最悪条件**で評価・保証する

### 特徴

- 周波数領域における最大ゲイン（H∞ノルム）を最小化  
- MIMOシステムの設計に強い  
- モデルベース制御であり、状態空間表現が前提となる

### 数式的表現（概要）

- 設計対象：  
  $$ \dot{x} = Ax + Bu + w, \quad y = Cx + Du $$
- H∞最適制御器 $K$ を設計して、$z$（制御対象出力）に対して以下を最小化：  
  $$ \|T_{zw}(s)\|_{\infty} < \gamma $$
- ここで $T_{zw}(s)$ は外乱 $w$ から出力 $z$ への伝達関数

---

## 2.4 H∞制御の実装イメージ

- 実装手順：
  1. 状態空間モデルの構築（A, B, C, D）  
  2. 重み付け関数の設計（感度関数、制御労力など）  
  3. H∞制御器の設計（Riccati方程式やLMIベース）  
  4. 実装：CコードまたはSimulink生成コードとして統合

- 使用ツール：MATLAB Robust Control Toolbox / Simulink  
- 制御器は、SoCやマイコンに実装可能（計算資源に注意）

---

## 2.5 PIDとH∞の比較まとめ

| 特徴            | PID制御                   | H∞制御                             |
|----------------|---------------------------|------------------------------------|
| 構造の単純さ   | ◎（チューニング容易）     | △（設計に専門知識必要）             |
| 多変数対応     | △（各ループ独立設計）     | ◎（一括設計、相互干渉も考慮可能）   |
| 外乱耐性       | △                         | ◎（ロバスト性が理論的に保証可能）   |
| 実装負荷       | 低                         | 中〜高（LMI計算・モデル構築が必要） |

---

## 2.6 まとめ

- PID制御は広く普及しているが、多変数・外乱耐性に限界あり  
- H∞制御はロバスト性とMIMO制御に優れ、ロボットのような複雑系に適している  
- AITL制御体系では、H∞制御をベースにした動的制御切替が鍵となる

---
