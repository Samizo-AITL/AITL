# 第6章：センサ・アクチュエータとSoC構成

---

## 6.1 ロボット制御に必要なセンサとアクチュエータ

- ロボットには多種多様なセンサとアクチュエータが搭載される
- 例：
  - **センサ**：温度、加速度、角度、距離、電流、圧力
  - **アクチュエータ**：DCモータ、サーボ、ファン、ヒータ、リニアアクチュエータ
- 状態推定・制御入力に不可欠な役割を果たす

---

## 6.2 センサインターフェースとADC

- アナログセンサ → ADC（Analog-to-Digital Converter）でデジタル化
- 使用例：0.18μm AMSプロセスの汎用ADCブロック
- 特性選定：
  - 分解能（例：10bit〜14bit）
  - サンプリングレート（kHz〜MHz帯）
- 多チャネルセンサにはMUX付きADCやDMA制御を使用

---

## 6.3 PWMとパワー出力構成

- PWM（Pulse Width Modulation）：
  - デューティ比によりモータの速度や出力を制御
- 高電圧駆動（例：24V〜48V）には**LDMOSドライバ**（0.35μmなど）が必要
- EMC対策、スイッチング損失、熱設計も重要
- モータ用Hブリッジとの組み合わせでフル制御

---

## 6.4 SoC構成とプロセスノード選定

- ロボット制御向けSoCは、**65nm mixed-signalプロセス**が適切なバランス
- 特徴：
  - デジタル制御ロジック（FSM, H∞計算）
  - ADC/DAC、PWM、UART等のアナログ機能統合
- 消費電力・サイズ・コストの最適化

---

## 6.5 通信インターフェースの選定と接続

- 組み込み制御系では以下の通信規格が一般的：

| インターフェース | 用途                         | 特徴                     |
|------------------|------------------------------|--------------------------|
| UART             | デバッグ、外部通信           | シリアル、簡便           |
| SPI              | 高速センサ通信、EEPROM等     | クロック同期、高速       |
| I2C              | 温度・加速度センサ等         | マルチスレーブ対応       |
| CAN              | 複数ノード制御（自動車系）   | 衝突制御・信頼性が高い   |

---

## 6.6 全体構成ブロック図（テキスト表現）

```text
[センサ群] → [ADC] → [FSM / H∞制御] → [PWM] → [LDMOSドライバ] → [アクチュエータ]

         ↘︎                            ↑
        [UART/CAN/I2C通信] ← [LLM/推論層による制御構成切替]
```

- SoC内にFSM、H∞、推論エンジン（軽量化版）を統合可能

---

## 6.7 まとめ

- ロボット制御にはセンサ・アクチュエータとそれを接続するSoCの統合設計が不可欠
- 65nm SoCと0.18μm/0.35μm AMS/LDMOSプロセスを適材適所で使い分ける構成が現実的
- 通信インターフェースも含めて、物理層から推論層までを一貫して設計するのがAITL流のアプローチ

---
