# EcoAgriPower連携型 電源制御モジュール 設計仕様書  
**Sky-HyEV AgriEdge Model v1.0**

---

## 1. 概要

本モジュールは、AgriEdgeモデルに搭載される各種センサ、SoC、通信モジュール、アクチュエータ等への電源供給を行う。EcoPowerPlatformにおけるEcoAgriPowerシステムとの連携により、再生可能エネルギー（太陽光／風力）とバッテリ管理を統合し、長期間の自律運転を支える。

---

## 2. システム構成図（概略）
[太陽光]─┐
├─▶ [MPPT昇圧回路] ─▶ [蓄電池管理] ─▶ [電源制御SoC] ─▶ 各モジュール
[風力]──┘

- MPPT制御：発電効率最大化（太陽／風力）
- 蓄電池管理：充放電制御、SOC監視、劣化推定
- 電源制御SoC：電圧監視、起動制御、I²C/ADC連携

---

## 3. 電源要件一覧（供給対象別）

| モジュール             | 電圧    | 消費電力目安 | 特記事項               |
|------------------------|---------|---------------|------------------------|
| AI制御SoC              | 5V/3.3V | 2〜5W          | 定常動作時             |
| センサ群               | 3.3V    | 30〜80mW       | 起動順制御あり         |
| 通信モジュール（5G等）| 5V      | 1〜3W          | 高出力時ピーク考慮     |
| 拡張I/O（灌水等）      | 5V/12V  | 2〜10W         | モータ・バルブ制御用途 |
| 教育用PoCDK            | USB 5V  | 500mW〜        | 評価ボード給電用       |

---

## 4. EcoAgriPower連携仕様

- **入力：**
  - 太陽光（12〜18V）
  - 風力（AC整流：12〜24V）
  - 外部ACアダプタ（補助用）

- **出力：**
  - バックコンバータによる複数電圧生成
  - 必要時に「モジュール単位で電源OFF制御」

- **監視・制御：**
  - バッテリ電圧・電流モニタ（I²C）
  - 各モジュールの電流センス（低抵抗シャント）
  - 温度・電圧異常時の遮断機構内蔵

---

## 5. 電源制御SoC構成

| 項目         | 内容                         |
|--------------|------------------------------|
| MCU種別      | Low-power MCU（ARM Cortex-M）|
| 通信         | I²C/SPI/UART（他モジュール連携）|
| ADCチャンネル| 電圧・電流監視用（8ch程度）   |
| PWM制御      | 冷却ファン、充電回路など制御用 |
| ログ出力     | UART or USBログ記録／GUI連携  |

---

## 6. AITLとの連携

- AITL判断により、電源系を動的制御可能（例：夜間低消費モード）
- ルール例：

IF バッテリ残量 < 20% AND 夜間 THEN 通信・拡張I/Oを停止
IF 天候 = 晴 AND AI処理要 ⇒ 昼間に画像認識モジュール起動

---

## 7. 教育・評価モード

- GUIにて電源の流れ・状態を可視化
- MPPT挙動のリアルタイムグラフ化
- 消費電力ログ収集機能（CSVエクスポート）

---

## 8. 拡張性・互換性

- SkyHyEV MilitaryModelと電源モジュール互換あり
- AITL SoC側からの電源リクエストインタフェースを標準化
- SystemDK/PoCDKとの接続を考慮したUSB-PD対応オプションあり

---

## 9. 補足・備考

- 小規模展開時には太陽光のみでも稼働可
- 農地展開向けに「自動再起動機構」搭載（雷・遮断対応）
- 教育用PoCDK評価環境では5V USB給電に自動切替可能

---

*Drafted: 2025-06-27*
