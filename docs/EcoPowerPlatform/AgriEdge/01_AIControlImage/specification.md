# AI制御SoC＋画像処理ブロック 設計仕様書  
**Sky-HyEV AgriEdge Model v1.0**

---

## 1. 概要

本モジュールは、農業用自律移動体「Sky-HyEV AgriEdge Model v1.0」に搭載される、AI判断系の中核として設計される。AITL（All-in-Theory Logic）理論をベースとした意思決定エンジンと、マルチモーダル入力（画像＋センサ情報）に基づく環境認識・行動選択機構を統合する。

---

## 2. 構成ブロック

[CMOSカメラ]────┐
│
[環境センサ群]─┴─▶ [PreProcessor] ─▶ [AI制御SoC (AITL搭載)] ─▶ [出力制御 I/F or GUI]

- **PreProcessor**：画像とセンサ信号の正規化／時系列同期処理
- **AI制御SoC**：
  - AITLコア搭載（Rule構造と状況ベース選択）
  - NPU（Neural Processing Unit）による推論
  - 判断出力：制御命令（灌水、移動、回避）

---

## 3. AITLロジック適用方針

- **判断階層：**
  - Low Level：障害物回避、潅水タイミング決定（センサベース）
  - Mid Level：作物状態判定（画像処理＋ルール適用）
  - High Level：経路計画／日中行動スケジューリング

- **Rule Structure例（AITL）**

IF 土壌乾燥度 > 閾値 AND 天候予測 = 晴
THEN 灌水実行（流量X, 時間Y）

IF 画像推論 = 成熟果実 AND 時刻 = 午前中
THEN 収穫タスク実行

---

## 4. SoC仕様（ターゲット構成）

| 項目             | 仕様例                           |
|------------------|----------------------------------|
| コア構成         | AITL CPU + NPU（ARMベース想定）   |
| メモリ           | 内蔵SRAM＋DDR（512MB〜1GB）        |
| I/F              | MIPI CSI2（カメラ）、I²C/SPI（センサ） |
| AI推論性能       | TOPSクラス：1〜2（推論モデル簡易化前提） |
| 消費電力         | 2〜5W以下（エッジ処理前提）         |

---

## 5. 接続インタフェース

- **入力系：**
- CMOSカメラ（MIPI）
- センサ群：I²C/SPI/UARTベースの混在構成
- **出力系：**
- GPIO／PWM：拡張I/Oへの制御命令出力
- UART/USB：PoCDKまたはGUI連携用

---

## 6. 機能要件

- センサ・画像入力からのリアルタイム判断（500ms以内）
- AITLルールベースの行動判断切替
- PoCDK環境と連携し、学習モデル再調整機能
- NPU推論モデル切替対応（収穫／除草モードなど）

---

## 7. 発展性

- AITLルールDBのアップデート機能
- クラウド連携によるログ収集／再学習（将来拡張）
- 教育用GUIと連携したシミュレーションモード

---

## 8. 関連モジュール連携

- ②【CMOSカメラモジュール】
- ③【センサモジュール】
- ⑤【EcoAgriPower電源制御】
- ⑦【GUI・教育PoC接続】

---

## 9. 補足・備考

- 本モジュールは、SkyHyEV MilitaryModelのAI制御部と構造類似性あり
- 民生／教育展開を意識し、消費電力と学習コストを抑えた設計を行う

---

*Drafted: 2025-06-27*
