# 04_CameraInterface - 仕様書 v0.1 (SkyEdgeモデル)

## 1. モジュール概要

CameraInterfaceモジュールは、SkyEdgeモデル向けに4K解像度対応のMIPI CSIカメラおよびIRカメラを制御・管理します。  
高画質映像取得と自動露出調整、赤外線撮影対応を特徴としています。

---

## 2. 主な機能

- 4K解像度（3840×2160）対応CMOSカメラ制御  
- MIPI CSI-2インターフェース対応  
- IRカメラ制御対応（暗所撮影用）  
- 自動露出・ホワイトバランス調整  
- 画像前処理（ノイズ低減、シャープネス調整）

---

## 3. 入出力インターフェース

| 種類           | 信号名           | 説明                                   |
|----------------|------------------|----------------------------------------|
| MIPI CSI-2     | MIPI_CLK / MIPI_DATA | カメラデータ転送用クロック・データ信号   |
| カメラ制御     | CAM_CTRL         | カメラ制御信号                         |
| IRカメラ制御   | IR_LED_CTRL      | IR LED点灯制御信号                     |
| 映像出力       | VIDEO_OUT        | 画像データ出力                         |

---

## 4. 動作仕様

| 項目               | 値                                   |
|--------------------|-------------------------------------|
| 動作電圧           | 1.2V（MIPI信号）、3.3V（制御回路）   |
| 解像度             | 最大4K UHD (3840×2160)               |
| フレームレート     | 最大60fps                            |
| 動作温度範囲       | -20℃〜+70℃                         |
| 消費電力           | 最大1.5W                            |

---

## 5. ブロック図（概念）

```
  +------------------------+
  |    CameraInterface     |
  +------------------------+
   |      |          |    
MIPI_CLK MIPI_DATA  CAM_CTRL IR_LED_CTRL VIDEO_OUT
```

---

## 6. 実装メモ

- MIPI CSI-2 PHYは高速信号対応設計  
- IRカメラ用LEDはPWM制御で明るさ調整可能  
- 自動露出アルゴリズムは環境光に応じリアルタイム調整

---

## 7. 検討課題

- 低照度環境でのノイズ低減技術強化  
- 4K以上の高解像度対応検討  
- HDR撮影対応の追加

---

## 8. 関連資料

- [MIPI CSI-2仕様書.pdf]  
- [カメラ制御アルゴリズム説明.md]  
- [IRカメラLED制御設計.xlsx]
