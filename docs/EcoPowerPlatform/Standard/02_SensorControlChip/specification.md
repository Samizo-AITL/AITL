# 02_SensorControlChip - 仕様書 v0.1

## 1. モジュール概要

SensorControlChip は、Standardモデルに搭載される基本環境センサー（温度・湿度・光）を統合管理するモジュールです。  
低消費電力設計と簡易I2C通信によって、エントリー機器でも高信頼なセンシング機能を提供します。

---

## 2. 主な機能

- 温度・湿度・照度センサーの統合制御
- センサーデータの周期読み出しと平滑化処理
- 閾値設定によるアラート出力（例：過温、暗所）
- データのI2Cスレーブ応答による読み出し
- 外部センサーの交換／拡張に対応（基板レベル）

---

## 3. 入出力インターフェース

| 種類         | 信号名        | 説明                             |
|--------------|---------------|----------------------------------|
| センサー入力 | TEMP_SENSE    | 温度センサー出力（デジタル）       |
| センサー入力 | HUMID_SENSE   | 湿度センサー出力（デジタル）       |
| センサー入力 | LIGHT_SENSE   | 光センサー出力（アナログまたはI2C）|
| 制御信号     | I2C_SCL/SDA   | I2Cバス（マスタ制御による読み出し） |
| アラート出力 | SENSOR_ALERT  | 設定閾値超過時の出力（オープンドレイン）|

---

## 4. 動作仕様

| 項目                   | 値                            |
|------------------------|-------------------------------|
| 測定周期               | 1秒ごと（設定変更可）         |
| 温度測定範囲           | -20°C ～ +60°C                |
| 湿度測定範囲           | 20%RH ～ 95%RH                |
| 照度測定範囲           | 0～1000 lx                    |
| 電源電圧               | 3.3V ±5%                      |
| 消費電流（待機時）     | 1μA以下                       |
| 消費電流（アクティブ時）| 最大 300μA                    |

---

## 5. 構成図（センサーブロック構成イメージ）

```
        +--------------------+
        | Sensor Control SoC |
        +--------------------+
         |    |     |     |
         ▼    ▼     ▼     ▼
      TEMP  HUMID  LIGHT  I2C
      (D)   (D)    (A)    Master
```

---

## 6. 実装メモ

- センサーには外付けI2Cデバイス（例：SHT31, BH1750）を想定
- 複数センサーのアドレス衝突回避にはMUXまたはマルチI2Cチャンネルも検討中
- センサー状態はレジスタマップ上に割り当てて保持

---

## 7. 検討課題

- アナログセンサーのADC化手法（外付け/内蔵ADCの選択）
- 測定誤差補正（キャリブレーション）
- 湿度・照度のリアルタイム変化への応答性向上

---

## 8. 関連資料

- [センサーIC一覧リスト.xlsx]
- [I2Cデバイス制御例.pdf]
- [センサーユニット実装検討ノート.md]
