# 06_SecurityMonitoring - 仕様書 v0.1

## 1. モジュール概要

SecurityMonitoringは、Standardモデルにおける異常検知・簡易セキュリティ監視機能を提供するモジュールです。  
主に温度・光・加速度などのセンサデータを監視し、設定された閾値を超えた際に警告信号を発します。  
防災教育、見守り用途、低コスト安全システムの構築に有用です。

---

## 2. 主な機能

- 環境センサー値に基づくしきい値監視機能
- 警報アラート信号出力（LED/ブザー/無線連携）
- セキュリティモード（監視モード）のON/OFF制御
- センサーデータのローカル記録機能（簡易バッファ）
- 異常発生履歴の外部出力（オプション）

---

## 3. 入出力インターフェース

| 種類         | 信号名        | 説明                              |
|--------------|---------------|-----------------------------------|
| センサ入力   | ENV_SENSOR    | 温度・湿度・照度・加速度 等         |
| モード制御   | SEC_MODE      | セキュリティ監視ON/OFF制御         |
| アラート出力 | ALERT_OUT     | 異常検知時の出力（LED/スピーカ制御）|
| 通信連携     | ALERT_COMM    | 通信モジュールとの連動信号（I2C/SPI）|

---

## 4. 動作仕様

| 項目                   | 値                              |
|------------------------|---------------------------------|
| 監視対象センサ         | 温度、湿度、照度、加速度        |
| 異常検知閾値設定       | 個別に8bitしきい値設定可能       |
| アラート応答時間       | 50ms 以内                       |
| ローカル記録容量       | 最大32イベント（FIFO形式）       |
| 消費電流（監視時）      | 30〜80μA（センサー込み）         |
| 消費電流（待機時）      | 1〜5μA                          |

---

## 5. ブロック図（概念）

```
       +---------------------------+
       | Security Monitoring Core |
       +---------------------------+
         ▲     ▲        ▲       ▲
         │     │        │       │
     SEC_MODE ENV_SENSOR ALERT_OUT ALERT_COMM
                         │
                [LED / ブザー / 通信モジュール]
```

---

## 6. 実装メモ

- センサしきい値はI2C経由で動的に再設定可能
- ALERT_OUTはオープンドレイン構成で複数モジュール接続可
- ブザーまたはRGB LEDによる状態表示も想定

---

## 7. 検討課題

- しきい値自動学習（Adaptive Thresholding）導入の可否
- ローカル記録データの暗号化対応（セキュリティ強化）
- 通信経由での遠隔アラート出力連携

---

## 8. 関連資料

- [センサ監視アルゴリズム比較.xlsx]
- [アラート出力回路構成図.pdf]
- [IoT向け簡易セキュリティ設計ガイド.md]
